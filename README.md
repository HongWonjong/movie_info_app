ì˜í™” ì •ë³´ ì•±

TMDB APIë¥¼ í™œìš©í•˜ì—¬ ì˜í™” ì •ë³´ë¥¼ í‘œì‹œí•˜ëŠ” Flutter ê¸°ë°˜ ì• í”Œë¦¬ì¼€ì´ì…˜ì…ë‹ˆë‹¤. í´ë¦° ì•„í‚¤í…ì²˜ì™€ Riverpodë¥¼ ì ìš©í•˜ì—¬ ìœ ì§€ë³´ìˆ˜ì„±ê³¼ í™•ì¥ì„±ì„ ë†’ì˜€ìœ¼ë©°, Flutterì˜ Hero ìœ„ì ¯ì„ ì‚¬ìš©í•œ ì–‘ë°©í–¥ ì• ë‹ˆë©”ì´ì…˜, ê³µìš© AppBar, iOS ë° Android ê¶Œí•œ ê´€ë¦¬ë¥¼ êµ¬í˜„í–ˆìŠµë‹ˆë‹¤. ì´ í”„ë¡œì íŠ¸ëŠ” ì˜í™” ì •ë³´ íƒìƒ‰ê³¼ UI/ë°ì´í„° íë¦„ ì—°ìŠµì„ ìœ„í•´ ì œì‘ë˜ì—ˆìŠµë‹ˆë‹¤.
ğŸ“– í”„ë¡œì íŠ¸ ê°œìš”
ì´ ì•±ì€ ì‚¬ìš©ìê°€ ë‹¤ì–‘í•œ ì˜í™” ì •ë³´ë¥¼ íƒìƒ‰í•  ìˆ˜ ìˆë„ë¡ ì„¤ê³„ë˜ì—ˆìŠµë‹ˆë‹¤. í™ˆ í™”ë©´ì—ì„œëŠ” ì¸ê¸° ì˜í™”, í˜„ì¬ ìƒì˜ì¤‘, í‰ì  ë†’ì€ ì˜í™”, ê°œë´‰ ì˜ˆì • ì˜í™”ë¥¼ í™•ì¸í•  ìˆ˜ ìˆìœ¼ë©°, ìƒì„¸ í˜ì´ì§€ì—ì„œëŠ” ì˜í™”ì˜ ì„¸ë¶€ ì •ë³´ì™€ í¥í–‰ ë°ì´í„°ë¥¼ ì œê³µí•©ë‹ˆë‹¤. ì¹´ë©”ë¼, ìœ„ì¹˜, ë§ˆì´í¬ ê¶Œí•œì„ ìš”ì²­í•˜ì—¬ QR ì½”ë“œ ìŠ¤ìº” ë° ìœ„ì¹˜ ê¸°ë°˜ ì˜í™”ê´€ ì¶”ì²œ ê¸°ëŠ¥ì„ ì§€ì›í•©ë‹ˆë‹¤. í´ë¦° ì•„í‚¤í…ì²˜ë¥¼ ê¸°ë°˜ìœ¼ë¡œ ë°ì´í„° ê³„ì¸µ, ë„ë©”ì¸ ê³„ì¸µ, í”„ë ˆì  í…Œì´ì…˜ ê³„ì¸µì„ ë¶„ë¦¬í•˜ì—¬ ì½”ë“œì˜ ê°€ë…ì„±ê³¼ ì¬ì‚¬ìš©ì„±ì„ ë†’ì˜€ìŠµë‹ˆë‹¤.
âœ¨ ì£¼ìš” ê¸°ëŠ¥
ğŸ–¥ï¸ í™”ë©´ êµ¬ì„± (Lv.1)

í™ˆ í™”ë©´ (HomePage)
ê°€ì¥ ì¸ê¸°ìˆëŠ” ì˜í™”: íŒ¨ë”© 20 ì œì™¸ ê°€ë¡œ ë„ˆë¹„ ì „ì²´ë¥¼ ì°¨ì§€í•˜ëŠ” í¬ìŠ¤í„° ì´ë¯¸ì§€.
ì¹´í…Œê³ ë¦¬ë³„ ë¦¬ìŠ¤íŠ¸ë·°: í˜„ì¬ ìƒì˜ì¤‘, ì¸ê¸°ìˆœ, í‰ì  ë†’ì€ìˆœ, ê°œë´‰ì˜ˆì • ì˜í™” 20ê°œì”© ê°€ë¡œ ë¦¬ìŠ¤íŠ¸ë·°ë¡œ í‘œì‹œ, ë†’ì´ 180.
ë¼ë²¨: ê° ë¦¬ìŠ¤íŠ¸ë·° ìœ„ì— ì¹´í…Œê³ ë¦¬ ì´ë¦„ í‘œì‹œ.
ì¸ê¸°ìˆœ ë­í‚¹: ì¸ê¸°ìˆœ ì˜í™” ì´ë¯¸ì§€ ì¢Œì¸¡ í•˜ë‹¨ì— ìˆœìœ„ í‘œì‹œ (#1, #2 ë“±).
ë””í´íŠ¸ ë‹¤í¬ ëª¨ë“œ: ë¼ì´íŠ¸ ëª¨ë“œ ë¯¸ì§€ì›.


ìƒì„¸ í™”ë©´ (DetailPage)
ì˜í™” í¬ìŠ¤í„°, ì œëª©, ê°œë´‰ì¼, íƒœê·¸ë¼ì¸, ëŸ¬ë‹íƒ€ì„, ì¹´í…Œê³ ë¦¬, ì„¤ëª… í‘œì‹œ.
í¥í–‰ ì •ë³´: í‰ì , íˆ¬í‘œìˆ˜, ì¸ê¸°ì ìˆ˜, ì˜ˆì‚°, ìˆ˜ìµì„ ê°€ë¡œ ë¦¬ìŠ¤íŠ¸ë·°ë¡œ í‘œì‹œ.
ì œì‘ì‚¬ ë¡œê³ : í°ìƒ‰ ë°°ê²½(íˆ¬ëª…ë„ 0.9)ìœ¼ë¡œ ê°€ë¡œ ë¦¬ìŠ¤íŠ¸ë·° í‘œì‹œ.


ê¶Œí•œ í™”ë©´ (PermissionPage)
ì¹´ë©”ë¼, ìœ„ì¹˜, ë§ˆì´í¬ ê¶Œí•œ ìš”ì²­ UI.
ê¶Œí•œ ìƒíƒœ í‘œì‹œ ë° ì•± ì„¤ì •ìœ¼ë¡œ ì´ë™ ê¸°ëŠ¥.
ëª¨ë“  ê¶Œí•œì´ í—ˆê°€ëœ ê²½ìš° ìë™ìœ¼ë¡œ í™ˆ í™”ë©´ìœ¼ë¡œ ì´ë™.


ê³µìš© AppBar
ëª¨ë“  í˜ì´ì§€ì— ì ìš©, "Movie App" ì œëª© í‘œì‹œ.
DetailPageì—ì„œ ë’¤ë¡œ ê°€ê¸° ë²„íŠ¼ ì œê³µ, ë‹¤ë¥¸ í˜ì´ì§€ì—ì„œëŠ” ì œì™¸.



ğŸ¥ Hero ì• ë‹ˆë©”ì´ì…˜ (Lv.2)

HomePageì™€ DetailPage ê°„ ì˜í™” í¬ìŠ¤í„° ì „í™˜ ì‹œ Hero ìœ„ì ¯ì„ ì‚¬ìš©í•œ ì–‘ë°©í–¥ ì• ë‹ˆë©”ì´ì…˜ íš¨ê³¼.
ê° ì˜í™”ë§ˆë‹¤ ê³ ìœ í•œ tag ì„¤ì • (ì˜ˆ: featured_popular_{id}, popular_{id})ìœ¼ë¡œ ì• ë‹ˆë©”ì´ì…˜ ì¶©ëŒ ë°©ì§€.

ğŸŒ TMDB API í†µí•© ë° í´ë¦° ì•„í‚¤í…ì²˜ (Lv.3)

TMDB APIë¥¼ í†µí•´ ì˜í™” ë°ì´í„° ê°€ì ¸ì˜¤ê¸°:
í˜„ì¬ ìƒì˜ì¤‘, ì¸ê¸°ìˆœ, í‰ì  ë†’ì€ìˆœ, ê°œë´‰ì˜ˆì • ì˜í™” ëª©ë¡.
ì˜í™” ìƒì„¸ ì •ë³´ (ì˜ˆì‚°, ì¥ë¥´, ì œì‘ì‚¬, ë¹„ë””ì˜¤, í¬ë ˆë”§ ë“±).


ì¸ì¦ ë°©ì‹: API ì½ê¸° ì•¡ì„¸ìŠ¤ í† í°(Bearer)ì„ ì‚¬ìš©í•˜ì—¬ ì•ˆì „í•œ ìš”ì²­.
í´ë¦° ì•„í‚¤í…ì²˜:
Data Layer: DTO, DataSource, Repository êµ¬í˜„.
Domain Layer: ì—”í‹°í‹°, ìœ ìŠ¤ì¼€ì´ìŠ¤, Repository ì¸í„°í˜ì´ìŠ¤.
Presentation Layer: Riverpod í”„ë¡œë°”ì´ë”ì™€ ìœ„ì ¯.


í™˜ê²½ ë³€ìˆ˜ ê´€ë¦¬: .env íŒŒì¼ì„ í†µí•´ ì•¡ì„¸ìŠ¤ í† í° ì•ˆì „í•˜ê²Œ ê´€ë¦¬.

ğŸ”’ ê¶Œí•œ ê´€ë¦¬ (Lv.5 ììœ  ê¸°ëŠ¥)

iOS ë° Android ê¶Œí•œ ìš”ì²­:
ì¹´ë©”ë¼: QR ì½”ë“œ ìŠ¤ìº”.
ìœ„ì¹˜: ê·¼ì²˜ ì˜í™”ê´€ ì¶”ì²œ.
ë§ˆì´í¬: ìŒì„± ëª…ë ¹ ì²˜ë¦¬.
ì¸í„°ë„·: TMDB API í˜¸ì¶œ.


permission_handler íŒ¨í‚¤ì§€ë¥¼ ì‚¬ìš©í•˜ì—¬ ëŸ°íƒ€ì„ ê¶Œí•œ ìš”ì²­.
ê¶Œí•œ ê±°ë¶€ ì‹œ ì‚¬ìš©ìì—ê²Œ ì´ìœ  ì„¤ëª… ë° ì•± ì„¤ì • í™”ë©´ ì•ˆë‚´.
ì•± ì‹œì‘ ì‹œ ëª¨ë“  ê¶Œí•œì´ í—ˆê°€ëœ ê²½ìš° PermissionPage ìë™ ê±´ë„ˆë›°ê¸°.
Androidì™€ iOSë³„ ê¶Œí•œ ì²˜ë¦¬ ë¶„ê¸°.

ğŸš€ ì„¤ì¹˜ ë°©ë²•
ì‚¬ì „ ì¤€ë¹„

Flutter SDK: 3.10 ì´ìƒ
Dart: 3.0 ì´ìƒ
TMDB API ì½ê¸° ì•¡ì„¸ìŠ¤ í† í°: TMDBì—ì„œ íšŒì›ê°€ì… í›„ ì•¡ì„¸ìŠ¤ í† í° ë°œê¸‰

ì„¤ì¹˜ ë‹¨ê³„

ë ˆí¬ì§€í† ë¦¬ í´ë¡ git clone https://github.com/your-repo/flutter_movie_app.git


í”„ë¡œì íŠ¸ ë””ë ‰í„°ë¦¬ë¡œ ì´ë™cd flutter_movie_app


í™˜ê²½ ë³€ìˆ˜ ì„¤ì •
í”„ë¡œì íŠ¸ ë£¨íŠ¸ì— .env íŒŒì¼ì„ ìƒì„±í•˜ê³  TMDB ì•¡ì„¸ìŠ¤ í† í° ì¶”ê°€:TMDB_ACCESS_TOKEN=your_access_token_here




ì˜ì¡´ì„± ì„¤ì¹˜flutter pub get


ì•± ì‹¤í–‰flutter run



ğŸ“‚ í”„ë¡œì íŠ¸ êµ¬ì¡°
flutter_movie_app/
â”œâ”€â”€ lib/
â”‚   â”œâ”€â”€ core/           # ê³µí†µ ìœ í‹¸ë¦¬í‹° (ìƒìˆ˜, ë„¤íŠ¸ì›Œí¬, ê¶Œí•œ)
â”‚   â”œâ”€â”€ data/           # ë°ì´í„° ê³„ì¸µ (DTO, DataSource, Repository)
â”‚   â”œâ”€â”€ domain/         # ë„ë©”ì¸ ê³„ì¸µ (ì—”í‹°í‹°, ìœ ìŠ¤ì¼€ì´ìŠ¤, Repository ì¸í„°í˜ì´ìŠ¤)
â”‚   â”œâ”€â”€ presentation/   # í”„ë ˆì  í…Œì´ì…˜ ê³„ì¸µ (í˜ì´ì§€, Riverpod í”„ë¡œë°”ì´ë”, ìœ„ì ¯)
â”‚   â””â”€â”€ main.dart       # ì•± ì§„ì…ì 
â”œâ”€â”€ android/            # Android ì„¤ì • (AndroidManifest.xml)
â”œâ”€â”€ ios/                # iOS ì„¤ì • (Info.plist)
â”œâ”€â”€ .env                # í™˜ê²½ ë³€ìˆ˜ (ì•¡ì„¸ìŠ¤ í† í°)
â”œâ”€â”€ pubspec.yaml        # ì˜ì¡´ì„± ì •ì˜
â””â”€â”€ README.md           # í”„ë¡œì íŠ¸ ì„¤ëª…

ì£¼ìš” íŒŒì¼ ë° ì—­í• 

Core Layer:
core/constants/api_constants.dart: TMDB API URL ë° ìƒìˆ˜.
core/network/http_client.dart: HTTP í´ë¼ì´ì–¸íŠ¸ ì‹±ê¸€í†¤.
core/permissions/permission_service.dart: iOS/Android ê¶Œí•œ ê´€ë¦¬.


Data Layer:
data/datasource/movie_datasource_impl.dart: TMDB API í˜¸ì¶œ.
data/dto/movie_response_dto.dart, data/dto/movie_detail_dto.dart: JSON íŒŒì‹±.
data/repository/movie_repository_impl.dart: ë°ì´í„° ì†ŒìŠ¤ì™€ ì—”í‹°í‹° ë§¤í•‘.


Domain Layer:
domain/entity/movie.dart, domain/entity/movie_detail.dart: ë°ì´í„° ëª¨ë¸.
domain/usecase/fetch_now_playing_movies.dart, domain/usecase/fetch_movie_detail.dart: ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§.
domain/repository/movie_repository.dart: ë°ì´í„° ì†ŒìŠ¤ ì¶”ìƒí™”.


Presentation Layer:
presentation/pages/home_page.dart, presentation/pages/detail_page.dart, presentation/pages/permission_page.dart: UI í˜ì´ì§€.
presentation/widgets/movie_list.dart, presentation/widgets/movie_card.dart, presentation/widgets/common_app_bar.dart: ì¬ì‚¬ìš© ìœ„ì ¯.
presentation/providers/home_provider.dart, presentation/providers/detail_provider.dart: ìƒíƒœ ê´€ë¦¬.



ğŸ”„ ì‚¬ìš©ì í´ë¦­ì— ë”°ë¥¸ ì‘ë™ íë¦„
ì•„ë˜ëŠ” ì‚¬ìš©ìê°€ HomePageì—ì„œ ì˜í™” ì¹´ë“œë¥¼ í´ë¦­í•˜ì—¬ DetailPageë¡œ ì´ë™í•˜ê³ , ë’¤ë¡œ ê°€ê¸° ë²„íŠ¼ìœ¼ë¡œ HomePageë¡œ ëŒì•„ì˜¤ëŠ” íë¦„ì„ í´ë¦° ì•„í‚¤í…ì²˜ ê³„ì¸µê³¼ íŒŒì¼ ê¸°ì¤€ìœ¼ë¡œ ë‹¨ê³„ë³„ë¡œ ì„¤ëª…í•©ë‹ˆë‹¤.
1. ì•± ì‹œì‘ ë° HomePage ë¡œë“œ

í–‰ë™: ì‚¬ìš©ìê°€ ì•±ì„ ì‹¤í–‰.
íë¦„:
lib/main.dart:
.env íŒŒì¼ì—ì„œ TMDB_ACCESS_TOKENì„ ë¡œë“œ (flutter_dotenv).
PermissionServiceì˜ areAllPermissionsGranted ë©”ì„œë“œë¡œ ì¹´ë©”ë¼, ìœ„ì¹˜, ë§ˆì´í¬ ê¶Œí•œ í™•ì¸.
ê¶Œí•œì´ í—ˆìš©ë˜ë©´ HomePage ë Œë”ë§, ê·¸ë ‡ì§€ ì•Šìœ¼ë©´ PermissionPage í‘œì‹œ.
ì½”ë“œ:home: FutureBuilder<bool>(
future: PermissionService().areAllPermissionsGranted(),
builder: (context, snapshot) {
if (snapshot.connectionState == ConnectionState.waiting) {
return const Center(child: CircularProgressIndicator());
}
if (snapshot.hasData && snapshot.data == true) {
return const HomePage();
}
return const PermissionPage();
},
),




lib/core/permissions/permission_service.dart:
permission_handler íŒ¨í‚¤ì§€ë¥¼ ì‚¬ìš©í•˜ì—¬ ê¶Œí•œ ìƒíƒœ í™•ì¸.
Android/iOSë³„ ë¶„ê¸° ì²˜ë¦¬.
ì½”ë“œ:Future<bool> areAllPermissionsGranted() async {
if (Platform.isAndroid) {
final cameraGranted = await isCameraPermissionGranted();
final locationGranted = await isLocationPermissionGranted();
final microphoneGranted = await isMicrophonePermissionGranted();
return cameraGranted && locationGranted && microphoneGranted;
} else if (Platform.isIOS) {
final cameraGranted = await isCameraPermissionGranted();
final locationGranted = await isLocationPermissionGranted();
return cameraGranted && locationGranted;
}
return false;
}




lib/presentation/pages/home_page.dart:
ConsumerStatefulWidgetìœ¼ë¡œ, initStateì—ì„œ homeProviderì˜ fetchAllMovies í˜¸ì¶œ.
WidgetsBinding.instance.addPostFrameCallbackìœ¼ë¡œ ë¹Œë“œ í›„ ë°ì´í„° ë¡œë“œ.
ê³µiest CommonAppBar ë Œë”ë§ (ì œëª©: "Movie App", ë’¤ë¡œ ê°€ê¸° ë²„íŠ¼ ì—†ìŒ).
ì½”ë“œ:void initState() {
super.initState();
WidgetsBinding.instance.addPostFrameCallback((_) {
ref.read(homeProvider.notifier).fetchAllMovies();
});
}
appBar: CommonAppBar(
title: 'Movie App',
showBackButton: false,
),




lib/presentation/providers/home_provider.dart:
fetchAllMoviesì—ì„œ now_playing, popular, top_rated, upcoming ì˜í™” ëª©ë¡ ìš”ì²­.
Riverpod í”„ë¡œë°”ì´ë”ë¥¼ í†µí•´ ìœ ìŠ¤ì¼€ì´ìŠ¤ í˜¸ì¶œ.
AsyncValueë¡œ ë¡œë”©/ë°ì´í„°/ì—ëŸ¬ ìƒíƒœ ê´€ë¦¬.
ì½”ë“œ:Future<void> fetchAllMovies() async {
state = const AsyncValue.loading();
state = await AsyncValue.guard(() async {
final nowPlaying = await ref.read(fetchNowPlayingMoviesProvider).execute();
final popular = await ref.read(fetchPopularMoviesProvider).execute();
final topRated = await ref.read(fetchTopRatedMoviesProvider).execute();
final upcoming = await ref.read(fetchUpcomingMoviesProvider).execute();
return HomeState(
nowPlayingMovies: nowPlaying ?? [],
popularMovies: popular ?? [],
topRatedMovies: topRated ?? [],
upcomingMovies: upcoming ?? [],
isLoading: false,
);
});
}




lib/presentation/providers/usecase_providers.dart:
fetchNowPlayingMoviesProvider ë“±ìœ¼ë¡œ ìœ ìŠ¤ì¼€ì´ìŠ¤ ì¸ìŠ¤í„´ìŠ¤ ì œê³µ.
ì½”ë“œ:final fetchNowPlayingMoviesProvider = Provider<FetchNowPlayingMovies>((ref) {
final repository = ref.watch(movieRepositoryProvider);
return FetchNowPlayingMovies(repository);
});




lib/domain/usecase/fetch_now_playing_movies.dart ë“±:
MovieRepositoryì˜ í•´ë‹¹ ë©”ì„œë“œ í˜¸ì¶œ (ì˜ˆ: fetchNowPlayingMovies).
ì½”ë“œ:Future<List<Movie>?> execute() async {
return await repository.fetchNowPlayingMovies();
}




lib/data/repository/movie_repository_impl.dart:
MovieDataSource í˜¸ì¶œ, MovieResponseDtoë¥¼ Movie ì—”í‹°í‹°ë¡œ ë³€í™˜.
ì½”ë“œ:Future<List<Movie>?> fetchNowPlayingMovies() async {
final response = await dataSource.fetchNowPlayingMovies();
return _mapToMovies(response);
}




lib/data/datasource/movie_datasource_impl.dart:
TMDB API í˜¸ì¶œ (/movie/now_playing ë“±), MovieResponseDto íŒŒì‹±.
ì½”ë“œ:Future<MovieResponseDto?> _fetchMovies(String url) async {
final response = await _makeRequest('$url?language=ko-KR&page=1');
if (response.statusCode == 200) {
return MovieResponseDto.fromJson(jsonDecode(response.body));
}
return null;
}




lib/data/dto/movie_response_dto.dart:
JSON ë°ì´í„°ë¥¼ MovieDtoë¡œ íŒŒì‹±.
ì½”ë“œ:factory MovieResponseDto.fromJson(Map<String, dynamic> json) {
return MovieResponseDto(
results: (json['results'] as List)
.map((e) => MovieDto.fromJson(e))
.toList(),
);
}




lib/presentation/pages/home_page.dart, lib/presentation/widgets/movie_list.dart, lib/presentation/widgets/movie_card.dart:
ì˜í™” ëª©ë¡ ë Œë”ë§, Hero ìœ„ì ¯ìœ¼ë¡œ í¬ìŠ¤í„° ì• ë‹ˆë©”ì´ì…˜ ì¤€ë¹„.
ì½”ë“œ (movie_card.dart):Hero(
tag: heroTag,
child: Material(...),
)






ê²°ê³¼: HomePageì— ì˜í™” ëª©ë¡ í‘œì‹œ, í´ë¦­ ê°€ëŠ¥í•œ MovieCard.

2. ì˜í™” ì¹´ë“œ í´ë¦­ ë° DetailPageë¡œ ì´ë™

í–‰ë™: ì‚¬ìš©ìê°€ HomePageì˜ ì˜í™” ì¹´ë“œ ë˜ëŠ” "ê°€ì¥ ì¸ê¸°ìˆëŠ”" ì˜í™” í´ë¦­.
íë¦„:
lib/presentation/widgets/movie_card.dart ë˜ëŠ” lib/presentation/pages/home_page.dart:
GestureDetectorì˜ onTap ì´ë²¤íŠ¸ë¡œ Navigator.push í˜¸ì¶œ.
DetailPageë¡œ ì´ë™, movieIdì™€ heroTag ì „ë‹¬ (ì˜ˆ: popular_123, featured_popular_123).
ì½”ë“œ (movie_card.dart):onTap: () {
print('Navigating to DetailPage with heroTag: $heroTag');
Navigator.push(
context,
MaterialPageRoute(
builder: (context) => DetailPage(
movieId: movie.id,
heroTag: heroTag,
),
),
);
}




lib/presentation/pages/detail_page.dart:
initStateì—ì„œ detailProviderì˜ fetchMovieDetail í˜¸ì¶œ.
ê³µìš© CommonAppBar ë Œë”ë§ (ì œëª©: "Movie App", ë’¤ë¡œ ê°€ê¸° ë²„íŠ¼ í¬í•¨).
Hero ìœ„ì ¯ìœ¼ë¡œ í¬ìŠ¤í„° ì• ë‹ˆë©”ì´ì…˜ ì¤€ë¹„.
ì½”ë“œ:void initState() {
super.initState();
print('DetailPage initState - Hero tag: ${widget.heroTag}');
WidgetsBinding.instance.addPostFrameCallback((_) {
print('Fetching movie detail for ID: ${widget.movieId}');
ref.read(detailProvider.notifier).fetchMovieDetail(widget.movieId);
});
}
appBar: CommonAppBar(
title: 'Movie App',
showBackButton: true,
),




lib/presentation/providers/detail_provider.dart:
fetchMovieDetailì—ì„œ fetchMovieDetailProvider í˜¸ì¶œ, AsyncValueë¡œ ìƒíƒœ ê´€ë¦¬.
ì½”ë“œ:Future<void> fetchMovieDetail(int id) async {
state = const AsyncValue.loading();
state = await AsyncValue.guard(() async {
final movieDetail = await ref.read(fetchMovieDetailProvider).execute(
id,
appendToResponse: 'videos,credits',
);
return DetailState(movieDetail: movieDetail, isLoading: false);
});
}




lib/presentation/providers/usecase_providers.dart:
FetchMovieDetail ìœ ìŠ¤ì¼€ì´ìŠ¤ ì œê³µ.
ì½”ë“œ:final fetchMovieDetailProvider = Provider<FetchMovieDetail>((ref) {
final repository = ref.watch(movieRepositoryProvider);
return FetchMovieDetail(repository);
});




lib/domain/usecase/fetch_movie_detail.dart:
MovieRepositoryì˜ fetchMovieDetail í˜¸ì¶œ.
ì½”ë“œ:Future<MovieDetail?> execute(int id, {String appendToResponse = ''}) async {
return await repository.fetchMovieDetail(id, appendToResponse: appendToResponse);
}




lib/data/repository/movie_repository_impl.dart:
MovieDataSource í˜¸ì¶œ, MovieDetailDtoë¥¼ MovieDetailë¡œ ë³€í™˜.
ì½”ë“œ:Future<MovieDetail?> fetchMovieDetail(int id, {String appendToResponse = ''}) async {
final response = await dataSource.fetchMovieDetail(id, appendToResponse: appendToResponse);
if (response == null) return null;
return MovieDetail(...);
}




lib/data/datasource/movie_datasource_impl.dart:
TMDB API í˜¸ì¶œ (/movie/{id}?append_to_response=videos,credits), MovieDetailDto íŒŒì‹±.
ì½”ë“œ:Future<MovieDetailDto?> fetchMovieDetail(int id, {String appendToResponse = ''}) async {
final response = await _makeRequest(ApiConstants.movieDetail(id, append: appendToResponse));
if (response.statusCode == 200) {
return MovieDetailDto.fromJson(jsonDecode(response.body));
}
return null;
}




lib/data/dto/movie_detail_dto.dart:
JSON ë°ì´í„°ë¥¼ MovieDetailDtoë¡œ íŒŒì‹±.
ì½”ë“œ:factory MovieDetailDto.fromJson(Map<String, dynamic> json) {
try {
return MovieDetailDto(
budget: json['budget'] ?? 0,
genres: (json['genres'] as List? ?? []).map((e) => GenreDto.fromJson(e)).toList(),
...
);
} catch (e) {
print('Error parsing MovieDetailDto: $e');
rethrow;
}
}




lib/presentation/pages/detail_page.dart:
detailProvider ìƒíƒœ ê°ì‹œ, ì˜í™” ìƒì„¸ ì •ë³´ ë Œë”ë§.
Hero ì• ë‹ˆë©”ì´ì…˜ìœ¼ë¡œ í¬ìŠ¤í„° ì „í™˜.
ì½”ë“œ:Hero(
tag: widget.heroTag,
child: Material(...),
),






ê²°ê³¼: DetailPageì— ì˜í™” ìƒì„¸ ì •ë³´ í‘œì‹œ, HomePage â†’ DetailPage Hero ì• ë‹ˆë©”ì´ì…˜ ì‘ë™.

3. ë’¤ë¡œ ê°€ê¸° ë²„íŠ¼ í´ë¦­ ë° HomePageë¡œ ë³µê·€

í–‰ë™: ì‚¬ìš©ìê°€ DetailPageì˜ ê³µìš© AppBarì—ì„œ ë’¤ë¡œ ê°€ê¸° ë²„íŠ¼ í´ë¦­.
íë¦„:
lib/presentation/widgets/common_app_bar.dart:
IconButtonì˜ onPressedë¡œ Navigator.pop í˜¸ì¶œ.
ì½”ë“œ:leading: showBackButton
? IconButton(
icon: const Icon(Icons.arrow_back),
onPressed: () {
Navigator.pop(context);
},
)
: null,




lib/presentation/pages/detail_page.dart:
Navigator.popìœ¼ë¡œ DetailPage ì¢…ë£Œ, HomePageë¡œ ë³µê·€.
Hero ìœ„ì ¯ìœ¼ë¡œ ì—­ë°©í–¥ ì• ë‹ˆë©”ì´ì…˜ ì²˜ë¦¬.


lib/presentation/pages/home_page.dart:
ê¸°ì¡´ homeProvider ë°ì´í„°ë¡œ UI ë Œë”ë§.
Hero ìœ„ì ¯ìœ¼ë¡œ í¬ìŠ¤í„° ì• ë‹ˆë©”ì´ì…˜ ì™„ë£Œ.
CommonAppBar í‘œì‹œ.




ê²°ê³¼: DetailPage â†’ HomePage ì´ë™, ì—­ë°©í–¥ Hero ì• ë‹ˆë©”ì´ì…˜ ì‘ë™.

ğŸ› ï¸ ì‚¬ìš©ëœ ì˜ì¡´ì„±

http: TMDB API ìš”ì²­
flutter_dotenv: í™˜ê²½ ë³€ìˆ˜ ê´€ë¦¬
flutter_riverpod: ìƒíƒœ ê´€ë¦¬ ë° ì˜ì¡´ì„± ì£¼ì…
equatable: ê°ì²´ ë¹„êµ
dartz: í•¨ìˆ˜í˜• í”„ë¡œê·¸ë˜ë° ìœ í‹¸ë¦¬í‹°
permission_handler: iOS ë° Android ê¶Œí•œ ê´€ë¦¬
flutter_test: í…ŒìŠ¤íŠ¸ í”„ë ˆì„ì›Œí¬
mockito: ëª¨í‚¹ ë¼ì´ë¸ŒëŸ¬ë¦¬

ìì„¸í•œ ì˜ì¡´ì„±ì€ pubspec.yaml íŒŒì¼ì„ ì°¸ê³ í•˜ì„¸ìš”.
ğŸ” íŠ¸ëŸ¬ë¸”ìŠˆíŒ… ê°€ì´ë“œ
1. API ì¸ì¦ ë¬¸ì œ

í˜„ìƒ: ì˜í™” ë°ì´í„°ê°€ ë¡œë“œë˜ì§€ ì•ŠìŒ.
í•´ê²°:
.env íŒŒì¼ì— ì˜¬ë°”ë¥¸ TMDB_ACCESS_TOKEN ì…ë ¥ í™•ì¸.
í† í°ì€ TMDB API ì„¤ì • í˜ì´ì§€ì—ì„œ ë°œê¸‰.
movie_datasource_impl.dartì—ì„œ Authorization: Bearer í—¤ë” í™•ì¸.



2. ë„¤íŠ¸ì›Œí¬ ì˜¤ë¥˜

í˜„ìƒ: API ìš”ì²­ ì‹¤íŒ¨.
í•´ê²°:
ì¸í„°ë„· ì—°ê²° í™•ì¸.
AndroidManifest.xmlì— <uses-permission android:name="android.permission.INTERNET" /> í™•ì¸.
Info.plistì— NSLocalNetworkUsageDescription í™•ì¸.



3. Hero ì• ë‹ˆë©”ì´ì…˜ ë¬¸ì œ

í˜„ìƒ: ì• ë‹ˆë©”ì´ì…˜ì´ ì‘ë™í•˜ì§€ ì•Šê±°ë‚˜ ì¶©ëŒ ë°œìƒ.
í•´ê²°:
HomePageì™€ DetailPageì—ì„œ ë™ì¼í•œ heroTag ì‚¬ìš© í™•ì¸.
ë””ë²„ê·¸ ì½˜ì†”ì—ì„œ Hero tag ë¡œê·¸ ì ê²€.
Hero ìœ„ì ¯ì˜ í¬ê¸° ë° ê°€ë¦¼ ì—¬ë¶€ í™•ì¸.



4. ê¶Œí•œ ìš”ì²­ ë¬¸ì œ

í˜„ìƒ: ê¶Œí•œ ê±°ë¶€ ë˜ëŠ” ì•± ì„¤ì • ì´ë™ ì‹¤íŒ¨.
í•´ê²°:
AndroidManifest.xmlê³¼ Info.plistì— ê¶Œí•œ ì„ ì–¸ í™•ì¸.
PermissionServiceì˜ openAppSettings í˜¸ì¶œ í™•ì¸.
iOS: Settings > Privacy & Securityì—ì„œ ê¶Œí•œ í™•ì¸.
Android: Settings > Apps > [App Name] > Permissions í™•ì¸.



ğŸ¤ ê¸°ì—¬ ë°©ë²•

ì´ìŠˆë¥¼ ë“±ë¡í•˜ì—¬ ê°œì„ ì ì´ë‚˜ ë²„ê·¸ ì œì•ˆ.
í¬í¬ í›„ ë¸Œëœì¹˜ ìƒì„±, ìƒˆë¡œìš´ ê¸°ëŠ¥ ì¶”ê°€.
í’€ ë¦¬í€˜ìŠ¤íŠ¸ ì œì¶œ, ì½”ë“œ ë¦¬ë·° ìš”ì²­.

ğŸ“œ ë¼ì´ì„ ìŠ¤
ì´ í”„ë¡œì íŠ¸ëŠ” MIT ë¼ì´ì„ ìŠ¤ í•˜ì— ë°°í¬ë©ë‹ˆë‹¤. ìì„¸í•œ ë‚´ìš©ì€ LICENSE íŒŒì¼ì„ í™•ì¸í•˜ì„¸ìš”.
ğŸ“¸ ìŠ¤í¬ë¦°ìƒ·
(TODO: í™ˆ í™”ë©´, ìƒì„¸ í™”ë©´, ê¶Œí•œ í™”ë©´ ìŠ¤í¬ë¦°ìƒ· ì¶”ê°€)





ê²°ê³¼: HomePageì— ì˜í™” ëª©ë¡ í‘œì‹œ, í´ë¦­ ê°€ëŠ¥í•œ MovieCard.

2. ì˜í™” ì¹´ë“œ í´ë¦­ ë° DetailPageë¡œ ì´ë™

í–‰ë™: ì‚¬ìš©ìê°€ HomePageì˜ ì˜í™” ì¹´ë“œ ë˜ëŠ” "ê°€ì¥ ì¸ê¸°ìˆëŠ”" ì˜í™” í´ë¦­.
íë¦„:
movie_card.dart ë˜ëŠ” home_page.dart:
GestureDetectorì˜ onTap ì´ë²¤íŠ¸ë¡œ Navigator.push í˜¸ì¶œ.
DetailPageë¡œ ì´ë™, movieIdì™€ heroTag ì „ë‹¬ (ì˜ˆ: popular_123, featured_popular_123).


detail_page.dart:
initStateì—ì„œ detailProviderì˜ fetchMovieDetail í˜¸ì¶œ.
CommonAppBar ë Œë”ë§ (ì œëª©: "Movie App", ë’¤ë¡œ ê°€ê¸° ë²„íŠ¼ í¬í•¨).
Hero ìœ„ì ¯ìœ¼ë¡œ í¬ìŠ¤í„° ì• ë‹ˆë©”ì´ì…˜ ì¤€ë¹„.


detail_provider.dart:
fetchMovieDetailì—ì„œ fetchMovieDetailProvider í˜¸ì¶œ, AsyncValueë¡œ ìƒíƒœ ê´€ë¦¬.


usecase_providers.dart:
FetchMovieDetail ìœ ìŠ¤ì¼€ì´ìŠ¤ ì œê³µ.


fetch_movie_detail.dart:
MovieRepositoryì˜ fetchMovieDetail í˜¸ì¶œ, appendToResponse: 'videos,credits'.


movie_repository_impl.dart:
MovieDataSource í˜¸ì¶œ, MovieDetailDtoë¥¼ MovieDetailë¡œ ë³€í™˜.


movie_datasource_impl.dart:
TMDB API í˜¸ì¶œ(/movie/{id}?append_to_response=videos,credits), MovieDetailDto íŒŒì‹±.


movie_detail_dto.dart:
JSON ë°ì´í„°ë¥¼ MovieDetailDtoë¡œ íŒŒì‹±.


detail_page.dart:
detailProvider ìƒíƒœ ê°ì‹œ, ì˜í™” ìƒì„¸ ì •ë³´ ë Œë”ë§.
Hero ì• ë‹ˆë©”ì´ì…˜ìœ¼ë¡œ í¬ìŠ¤í„° ì „í™˜.




ê²°ê³¼: DetailPageì— ì˜í™” ìƒì„¸ ì •ë³´ í‘œì‹œ, HomePage â†’ DetailPage Hero ì• ë‹ˆë©”ì´ì…˜ ì‘ë™.

3. ë’¤ë¡œ ê°€ê¸° ë²„íŠ¼ í´ë¦­ ë° HomePageë¡œ ë³µê·€

í–‰ë™: ì‚¬ìš©ìê°€ DetailPageì˜ ê³µìš© AppBarì—ì„œ ë’¤ë¡œ ê°€ê¸° ë²„íŠ¼ í´ë¦­.
íë¦„:
common_app_bar.dart:
IconButtonì˜ onPressedë¡œ Navigator.pop í˜¸ì¶œ.


detail_page.dart:
Navigator.popìœ¼ë¡œ DetailPage ì¢…ë£Œ, HomePageë¡œ ë³µê·€.
Hero ìœ„ì ¯ìœ¼ë¡œ ì—­ë°©í–¥ ì• ë‹ˆë©”ì´ì…˜ ì²˜ë¦¬.


home_page.dart:
ê¸°ì¡´ homeProvider ë°ì´í„°ë¡œ UI ë Œë”ë§.
Hero ìœ„ì ¯ìœ¼ë¡œ í¬ìŠ¤í„° ì• ë‹ˆë©”ì´ì…˜ ì™„ë£Œ.
CommonAppBar í‘œì‹œ.




ê²°ê³¼: DetailPage â†’ HomePage ì´ë™, ì—­ë°©í–¥ Hero ì• ë‹ˆë©”ì´ì…˜ ì‘ë™.


ğŸ› ï¸ ì‚¬ìš©ëœ ì˜ì¡´ì„±

http: TMDB API ìš”ì²­
flutter_dotenv: í™˜ê²½ ë³€ìˆ˜ ê´€ë¦¬
flutter_riverpod: ìƒíƒœ ê´€ë¦¬ ë° ì˜ì¡´ì„± ì£¼ì…
equatable: ê°ì²´ ë¹„êµ
dartz: í•¨ìˆ˜í˜• í”„ë¡œê·¸ë˜ë° ìœ í‹¸ë¦¬í‹°
permission_handler: iOS ë° Android ê¶Œí•œ ê´€ë¦¬
flutter_test: í…ŒìŠ¤íŠ¸ í”„ë ˆì„ì›Œí¬
mockito: ëª¨í‚¹ ë¼ì´ë¸ŒëŸ¬ë¦¬

ìì„¸í•œ ì˜ì¡´ì„±ì€ pubspec.yaml íŒŒì¼ì„ ì°¸ê³ í•˜ì„¸ìš”.

ğŸ” íŠ¸ëŸ¬ë¸”ìŠˆíŒ… ê°€ì´ë“œ
1. API ì¸ì¦ ë¬¸ì œ

í˜„ìƒ: ì˜í™” ë°ì´í„°ê°€ ë¡œë“œë˜ì§€ ì•ŠìŒ.
í•´ê²°:
.env íŒŒì¼ì— ì˜¬ë°”ë¥¸ TMDB_ACCESS_TOKEN ì…ë ¥ í™•ì¸.
í† í°ì€ TMDB API ì„¤ì • í˜ì´ì§€ì—ì„œ ë°œê¸‰.
movie_datasource_impl.dartì—ì„œ Authorization: Bearer í—¤ë” í™•ì¸.



2. ë„¤íŠ¸ì›Œí¬ ì˜¤ë¥˜

í˜„ìƒ: API ìš”ì²­ ì‹¤íŒ¨.
í•´ê²°:
ì¸í„°ë„· ì—°ê²° í™•ì¸.
AndroidManifest.xmlì— <uses-permission android:name="android.permission.INTERNET" /> í™•ì¸.
Info.plistì— NSLocalNetworkUsageDescription í™•ì¸.



3. Hero ì• ë‹ˆë©”ì´ì…˜ ë¬¸ì œ

í˜„ìƒ: ì• ë‹ˆë©”ì´ì…˜ì´ ì‘ë™í•˜ì§€ ì•Šê±°ë‚˜ ì¶©ëŒ ë°œìƒ.
í•´ê²°:
HomePageì™€ DetailPageì—ì„œ ë™ì¼í•œ heroTag ì‚¬ìš© í™•ì¸.
ë””ë²„ê·¸ ì½˜ì†”ì—ì„œ Hero tag ë¡œê·¸ ì ê²€.
Hero ìœ„ì ¯ì˜ í¬ê¸° ë° ê°€ë¦¼ ì—¬ë¶€ í™•ì¸.



4. ê¶Œí•œ ìš”ì²­ ë¬¸ì œ

í˜„ìƒ: ê¶Œí•œ ê±°ë¶€ ë˜ëŠ” ì•± ì„¤ì • ì´ë™ ì‹¤íŒ¨.
í•´ê²°:
AndroidManifest.xmlê³¼ Info.plistì— ê¶Œí•œ ì„ ì–¸ í™•ì¸.
PermissionServiceì˜ openAppSettings í˜¸ì¶œ í™•ì¸.
iOS: Settings > Privacy & Securityì—ì„œ ê¶Œí•œ í™•ì¸.
Android: Settings > Apps > [App Name] > Permissions í™•ì¸.



ğŸ“¸ ìŠ¤í¬ë¦°ìƒ·
(TODO: í™ˆ í™”ë©´, ìƒì„¸ í™”ë©´, ê¶Œí•œ í™”ë©´ ìŠ¤í¬ë¦°ìƒ· ì¶”ê°€)



